(this.webpackJsonpmastermind=this.webpackJsonpmastermind||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),l=s(14),r=s.n(l),i=(s(25),s(26),s(15)),o=s(16),n=s(20),u=s(19),d=s(17),j=s.n(d),v=s(0);function b(e){return Object(v.jsx)("button",{className:j()(e.className,e.active,e.value),onClick:e.onClick})}function h(e){return Object(v.jsx)("button",{disabled:e.disabled,className:e.className,onClick:e.onClick,children:Object(v.jsx)("div",{children:e.value})})}function g(e){return Object(v.jsx)("div",{className:e.className,children:e.value})}var m=["c0","c1","c2","c3","c4","c5"],x="c6",O="c7",p=function(e){Object(n.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).generateSolution=function(){for(var e=Array(a.props.cols).fill(null),t=0;t<e.length;t++)e[t]=m[Math.floor(Math.random()*m.length)];return e},a.renderGuessRow=function(){for(var e=[],t=function(t){e.push(Object(v.jsx)(b,{className:"tile guess",value:a.state.guessRow[t],onClick:function(){return a.guessTileClicked(t)}}))},s=0;s<a.state.guessRow.length;s++)t(s);return e},a.renderBoard=function(){for(var e=[],t=[],s=a.state.currentRow,c=s+a.props.cols,l=0;l<a.state.board.length;l++)l>=s&&l<c?t.push(a.renderTile(l,"active")):t.push(a.renderTile(l,"inactive")),(l+1)%a.props.cols===0&&(e.push(Object(v.jsx)("div",{className:"row",children:t})),t=[]);return e},a.renderEvalTiles=function(){for(var e=[],t=[],s=0;s<a.state.evals.length;s++)t.push(Object(v.jsx)(b,{className:"tile eval",value:a.state.evals[s]})),2*(s+1)%a.props.cols===0&&(e.push(Object(v.jsx)("div",{className:"row",children:t})),t=[]);return e},a.colorSelected=function(e){a.setState({selectedColor:e})},a.renderColorSelect=function(){for(var e=[],t=function(t){var s=t===a.state.selectedColor?"tile color active":"tile color inactive";e.push(Object(v.jsx)(b,{className:s,value:m[t],onClick:function(){return a.colorSelected(t)}}))},s=0;s<m.length;s++)t(s);return e},a.nextTurn=function(){var e=parseInt(a.state.currentRow)+parseInt(a.props.cols);if(e<=a.state.board.length)return e},a.evaluateMove=function(){for(var e=a.state.guessRow.slice(),t=0,s=[],c=[],l=0;l<e.length;l++)e[l]===a.state.solution[l]?t++:(s.push(a.state.solution[l]),c.push(e[l]));for(var r=0,i=0;i<c.length;i++)if(s.includes(c[i])){r++;var o=s.indexOf(c[i]);-1!==o&&s.splice(o,1)}for(var n=a.state.evals.slice(),u=0;u<t;u++)n[u+a.state.currentRow]=x;for(var d=0;d<r;d++)n[d+a.state.currentRow+t]=O;return n},a.submitMove=function(){var e=a.state.guessRow.slice(),t=a.state.board.slice();if(!e.includes(null)){for(var s=0;s<a.props.cols;s++)t[s+a.state.currentRow]=e[s];var c=a.evaluateMove(),l=a.nextTurn(),r=a.getGameStatus(t,c,a.state.currentRow);a.setState({board:t,evals:c,currentRow:l,dialog:r})}else a.setState({dialog:{message:"Guess is incomplete",messageState:"dialog alert"}})},a.clearDialog=function(){a.setState({dialog:{message:null,messageState:"dialog"}})},a.guessTileClicked=function(e){var t=a.state.guessRow.slice();t[e]=m[a.state.selectedColor],a.setState({guessRow:t})},a.resetGame=function(){a.setState({board:Array(a.props.rows*a.props.cols).fill(null),evals:Array(a.props.rows*a.props.cols).fill(null),guessRow:Array(a.props.cols).fill(null),solution:a.generateSolution(),currentRow:0,color:null,dialog:{message:null,messageState:"dialog"}})},a.getGameStatus=function(e,t,s){var c=t.slice(s,s+a.props.cols);return JSON.stringify(c)===JSON.stringify(Array(a.props.cols).fill(x))?{message:"You won!",messageState:"dialog won"}:s+a.props.cols===e.length?{message:"You lost...",messageState:"dialog lost"}:{message:"",messageState:"dialog"}},a.getTurnNumber=function(){for(var e=0;e<a.props.rows;e++)if(null===a.state.board[e*a.props.cols])return e;return-1},a.clearGuess=function(){a.setState({guessRow:Array(a.props.cols).fill(null)})},a.state={board:Array(e.rows*e.cols).fill(null),evals:Array(e.rows*e.cols).fill(null),solution:a.generateSolution(),guessRow:Array(e.cols).fill(null),currentRow:0,selectedColor:0,dialog:{message:null,messageState:"dialog"}},a}return Object(o.a)(s,[{key:"renderTile",value:function(e,t){return Object(v.jsx)(b,{value:this.state.board[e],active:t,className:"tile board"})}},{key:"render",value:function(){var e=this.state.dialog.messageState.includes("won")||this.state.dialog.messageState.includes("lost");return Object(v.jsxs)("div",{class:"container",children:[Object(v.jsx)(g,{className:this.state.dialog.messageState,value:this.state.dialog.message}),Object(v.jsxs)("div",{className:"main-game",children:[Object(v.jsx)("div",{className:"board",children:this.renderBoard()}),Object(v.jsx)("div",{className:"evals",children:this.renderEvalTiles()})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:[this.renderGuessRow(),Object(v.jsx)(h,{value:"x",className:"button clear-guess",onClick:this.clearGuess})]}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{children:this.renderColorSelect()}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:[Object(v.jsx)(h,{onClick:this.submitMove,value:"Guess",className:"button guess",disabled:e?"disabled":""}),Object(v.jsx)(h,{onClick:this.resetGame,value:"New Game",className:"button new-game",disabled:""})]})]})}}]),s}(c.a.Component);function f(){return Object(v.jsxs)("div",{className:"help",children:[Object(v.jsx)("p",{children:"The goal of Mastermind is to guess the secret code, a sequence of 4 colored pegs generated by the computer. For example, here's the secret code for this round"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c0"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c4"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c3"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c1"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Using the colors, create a pattern and click 'guess' to see how close you are. For example, this is our guess of the secret code."}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c1"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c3"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c5"}),Object(v.jsx)(b,{active:"active",className:"tile board",value:"c1"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Your guess will be automatically evaluated, and will appear in the four small pegs on the right of the board. In this case, the evaluation would be:"}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c6"}),Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c7"})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:""}),Object(v.jsx)(b,{active:"active",className:"tile eval",value:""})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c6"})," means one peg in our guess is the right color ",Object(v.jsx)("b",{children:"and is in the right place"})," (the 4th tile in our guess)"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c7"})," means one peg in our guess is the right color ",Object(v.jsx)("b",{children:"but is in the wrong place"})," (the 2nd tile)"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:""})," means one peg in our guess is not the right color and therefore not in the secret code (the 1st and 3rd tiles)"]}),Object(v.jsx)("p",{children:"*Note: the order of the evaluation pegs does not matter"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Try to win before you run out of moves. When you guess the code, the evaluation pegs should look like:"}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c6"}),Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c6"})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c6"}),Object(v.jsx)(b,{active:"active",className:"tile eval",value:"c6"})]}),Object(v.jsx)("p",{children:"Good luck!"})]})}var N=s(9),w=s(2);var S=function(){return Object(v.jsx)(N.a,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("h1",{children:"Mastermind"}),Object(v.jsx)("div",{children:Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(N.b,{exact:!0,to:"/",activeClassName:"is-active",children:"play"})}),Object(v.jsx)("li",{children:Object(v.jsx)(N.b,{to:"/help",activeClassName:"is-active",children:"instructions"})})]})})}),Object(v.jsxs)(w.c,{children:[Object(v.jsx)(w.a,{exact:!0,path:"/",children:Object(v.jsx)(p,{rows:10,cols:4})}),Object(v.jsx)(w.a,{path:"/help",children:Object(v.jsx)(f,{})})]})]})})},C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,37)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),l(e),r(e)}))};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(S,{})}),document.getElementById("root")),C()}},[[36,1,2]]]);
//# sourceMappingURL=main.1da4cf7e.chunk.js.map